<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport"content="width=device-width, initial-scale=1.0"><title>Post View</title><link href="assets/css/prism-tomorrow.min.css"rel="stylesheet"/><link href="assets/css/prism-toolbar.min.css"rel="stylesheet"/><link rel="stylesheet"href="assets/css/style.css"></head><body><svg width="0"height="0"style="position: absolute; pointer-events: none; z-index: -1;"><filter id="paper-noise"x="0%"y="0%"width="100%"height="100%"><feTurbulence type="fractalNoise"baseFrequency="0.8"numOctaves="3"stitchTiles="stitch"/><feColorMatrix type="saturate"values="0"/><feComponentTransfer><feFuncR type="linear"slope="3"intercept="-1"/><feFuncG type="linear"slope="3"intercept="-1"/><feFuncB type="linear"slope="3"intercept="-1"/></feComponentTransfer></filter></svg><nav class="paper-nav"><a href="index.html"class="nav-brand">ilylty's Blog</a><div class="nav-links"><a href="index.html"class="nav-item">HOME</a><a href="archive.html"class="nav-item">TIMELINE</a><a id="page-views"class="nav-item">VIEWS:0</a></div></nav><div id="loading"style="text-align:center; padding: 50px;">LOADING...</div><div class="post-layout-wrapper"><article id="post-view"class="single-post-sheet paper-texture"style="display:none;"><div class="staple"></div><header class="post-header"><div id="p-meta"class="meta-text"></div><h1 id="p-title"></h1><div id="p-tags"class="tags-container"></div></header><div id="content"class="md-typography"></div></article><aside id="toc-sidebar"class="toc-sidebar"><div class="toc-title">Table of Contents</div><ul id="toc-list"class="toc-list"></ul></aside></div><script src="assets/js/marked.min.js"></script><script src="assets/js/prism.min.js"></script><script src="assets/js/prism-toolbar.min.js"></script><script src="assets/js/prism-copy-to-clipboard.min.js"></script><script src="assets/js/prism-javascript.min.js"></script><script src="assets/js/prism-css.min.js"></script><script src="assets/js/prism-bash.min.js"></script><script>async function loadPost(){const path=new URLSearchParams(window.location.search).get("path"),container=document.getElementById("post-view"),loading=document.getElementById("loading"),tocContainer=document.getElementById("toc-sidebar"),tocList=document.getElementById("toc-list");if(path)try{const metaRes=await fetch("data/posts.json"),meta=(await metaRes.json()).find(p=>p.path===path);meta&&(document.title=meta.title,document.getElementById("p-title").innerText=meta.title,document.getElementById("p-meta").innerText=`${meta.date}/ ${meta.categories.join(", ")}`,document.getElementById("p-tags").innerHTML=meta.tags.map(t=>`<span>#${t}</span>`).join(" "));const mdRes=await fetch(path);if(!mdRes.ok)throw new Error("File not found");const text=await mdRes.text(),contentDiv=document.getElementById("content");contentDiv.innerHTML=marked.parse(text),Prism.highlightAll();const headings=contentDiv.querySelectorAll("h1, h2, h3");headings.length>0?(tocList.innerHTML="",headings.forEach((heading,index)=>{heading.id||(heading.id=`section-${index}`);const level=parseInt(heading.tagName.substring(1)),li=document.createElement("li");li.className=`toc-level-${level}`;const a=document.createElement("a");a.href=`#${heading.id}`,a.innerText=heading.innerText,a.onclick=e=>{e.preventDefault(),document.getElementById(heading.id).scrollIntoView({behavior:"smooth"})},li.appendChild(a),tocList.appendChild(li)}),tocContainer.style.display="block"):tocContainer.style.display="none",loading.style.display="none",container.style.display="block",container.style.opacity=0,setTimeout(()=>container.style.opacity=1,50);const pageViewsElement=document.getElementById("page-views");if(pageViewsElement)try{const viewsRes=await fetch(`https://blog-stats.pages.dev/post-info?url=${encodeURIComponent(path)}`);if(viewsRes.ok){const viewsData=await viewsRes.json();pageViewsElement.innerText=`VIEWS: ${viewsData.count||0}`}}catch(e){console.error("Error fetching page views:",e)}setTimeout(async()=>{try{if((await fetch("https://blog-stats.pages.dev/stat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:path})})).ok){const pageViewsElement=document.getElementById("page-views");if(pageViewsElement){let currentViews=parseInt(pageViewsElement.innerText.replace("VIEWS: ",""))||0;pageViewsElement.innerText=`VIEWS: ${currentViews+1}`}}}catch(e){console.error("Error recording visit:",e)}},6e4)}catch(e){console.error(e),loading.innerText="Error loading post."}else loading.innerText="Error: No path specified."}loadPost();</script></body></html>